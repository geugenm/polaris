<!DOCTYPE html>
<html>
<head>
    <title>Graph Editor</title>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
    <script src="https://unpkg.com/d3@5.0.0/dist/d3.min.js"></script>
    <link href="style_sheet.css" rel="stylesheet" type="text/css"/>
    <link href="toast.css" rel="stylesheet" type="text/css"/>
    <link href="modal.css" rel="stylesheet" type="text/css"/>

    <script src="https://unpkg.com/three@0.160.1"></script>
    <script src="https://unpkg.com/three-spritetext"></script>
    <script src="https://unpkg.com/3d-force-graph"></script>
    <link href="favicon.ico" rel="shortcut icon" type="image/jpg"/>
    <style>
        :root {
            --app-bg: #131313; /* Dark background */
            --app-tx: #f8f9fa; /* Light text */
            --shortcut-text: #2b2b2b; /* Lighter shade for shortcut text */
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--app-bg);
            color: var(--app-tx);
        }
        .modal-dialog {
            background-color: #FFF;
            border-radius:  10px;
            box-shadow:  0  2px  10px rgba(0,  0,  0,  0.1);
            max-width:  400px;
            margin:  100px auto;
            padding:  20px;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom:  10px;
        }
        .modal-header strong {
            font-size:  1.2em;
        }
        .modal-content p {
            margin-bottom:  10px;
            color: var(--shortcut-text);
        }
        .modal-content header {
            margin-top:  20px;
        }
        .close-modal {
            background: none;
            border: none;
            font-size:  1.5em;
            cursor: pointer;
        }
        .scene-nav-info {
            font-size:  0.8em;
            color: #666;
            margin-bottom:  10px;
        }
        #graph-hud, #graph-search, #toast, #3d-graph {
            padding:  20px;
            background-color: #FFF;
            border-radius:  10px;
            box-shadow:  0  2px  10px rgba(0,  0,  0,  0.1);
            margin:  10px;
        }
        #graph-search-input {
            width:  100%;
            padding:  10px;
            border:  1px solid #CCC;
            border-radius:  5px;
            font-size:  0.9em;
        }
    </style>
</head>

<body onresize="set_size()">
<div id="graph-hud"></div>
<div id="graph-search">
    <input
            id="graph-search-input"
            list="nodeslist"
            placeholder="search"
            type="text"
    />
</div>
<div id="toast"></div>

<div class="modal" id="modal-help">
    <div class="modal-dialog" id="modal-help">
        <header class="modal-header">
            <strong>List of All shortcuts:</strong>
            <button
                    aria-label="close modal"
                    class="close-modal"
                    data-close="modal-help"
            >
                âœ•
            </button>
        </header>
        <section class="modal-content">
            <p><strong>Ctrl + / :</strong> Toggle unconnected node visibility</p>
            <p><strong>H :</strong> Open the shortcuts menu</p>
            <p><strong>Esc :</strong> Close the menu</p>
            <p><strong>L :</strong> Toggles the label of nodes</p>
            <br/>
            <header style="text-align: center">
                <strong>Searching shortcuts:</strong>
            </header>
            <br/>
            <p>
                <strong>Ctrl + Enter :</strong> highlights node and cycles
                through
                colours
            </p>
            <p>
                <strong>Ctrl + Shift + Enter :</strong> reset colour
                highlighting
            </p>
            <p><strong>Enter :</strong> zoom in to selected node</p>
        </section>
    </div>
</div>

<datalist id="nodeslist"></datalist>
<div id="3d-graph">
    <div style="position: relative">
        <div>
            <div class="scene-nav-info">
                Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click:
                pan, Shift-Click on node: MoveAt node
            </div>
        </div>
    </div>
</div>

<script src="polaris.js"></script>
<script language="javascript">
    createGraph("JSON_DATA_FILE_HERE");
</script>
</body>
</html>
